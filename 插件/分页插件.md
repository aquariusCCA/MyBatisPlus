---
up:
  - "[[MyBatis Plus 課程描述]]"
---
> MyBatis Plus 自带分页插件，只要简单的配置即可实现分页功能

# 1. 引入依賴

```xml
<dependencyManagement>
	<dependencies>
		<dependency>
			<groupId>com.baomidou</groupId>
			<artifactId>mybatis-plus-bom</artifactId>
			<version>3.5.12</version> <!-- 或 3.5.9+ 的穩定版 -->
			<type>pom</type>
			<scope>import</scope>
		</dependency>
	</dependencies>
</dependencyManagement>

<dependencies>
	<dependency>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter</artifactId>
	</dependency>

	<dependency>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-test</artifactId>
		<scope>test</scope>
	</dependency>

	<!--  mybatis-plus 启动器      -->
	<dependency>
		<groupId>com.baomidou</groupId>
		<artifactId>mybatis-plus-spring-boot3-starter</artifactId>
		<version>3.5.12</version>
	</dependency>

	<!-- 啟用分頁等需用到的 jsqlparser（3.5.9+ 起為選配，但分頁需要） -->
	<dependency>
		<groupId>com.baomidou</groupId>
		<artifactId>mybatis-plus-jsqlparser</artifactId>
	</dependency>

	<!--  lombok 用于简化实体类开发      -->
	<dependency>
		<groupId>org.projectlombok</groupId>
		<artifactId>lombok</artifactId>
		<scope>annotationProcessor</scope>
	</dependency>

	<!--   mysql 驱动     -->
	<dependency>
		<groupId>com.mysql</groupId>
		<artifactId>mysql-connector-j</artifactId>
		<scope>runtime</scope>
	</dependency>
</dependencies>
```

# 1. 添加配置类

```java
@Configuration
@MapperScan("com.codechenxi.mybatis_plus.mapper") //可以将主类中的注解移到此处
public class MybatisPlusConfig {

    @Bean
    public MybatisPlusInterceptor mybatisPlusInterceptor() {

        MybatisPlusInterceptor mybatisPlusInterceptor = new MybatisPlusInterceptor();

        mybatisPlusInterceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));

        return mybatisPlusInterceptor;
    }
}
```

---

# 2. 测试

```java
@Test
public void testPage(){
	//SELECT COUNT(*) AS total FROM t_user WHERE is_deleted = 0
	// 设置分页参数
	Page<User> page = new Page<>(1,5);
	userMapper.selectPage(page,null);

	// 获取分页数据
	List<User> list = page.getRecords();
	list.forEach(System.out::println);

	System.out.println("当前页: " + page.getCurrent());
	System.out.println("每页显示的条数: " + page.getSize());
	System.out.println("总记录数: " + page.getTotal());
	System.out.println("总页数: " + page.getPages());
	System.out.println("是否有上一页: " + page.hasPrevious());
	System.out.println("是否有下一页: " + page.hasNext());
}
```

---

# 3. 运行结果

![[image-20230729165517531.png]]

---

